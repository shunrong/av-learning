# 快速开始指南

## 5分钟上手视频点播系统

### 步骤1: 检查环境

首先确保你已安装必要的软件：

```bash
# 检查Node.js（需要14+）
node --version

# 检查FFmpeg（必需）
ffmpeg -version

# 检查npm
npm --version
```

**如果没有安装FFmpeg:**

macOS:
```bash
brew install ffmpeg
```

### 步骤2: 安装依赖

```bash
cd 05-vod-system
npm install
```

等待依赖安装完成（大约需要1-2分钟）。

### 步骤3: 启动服务器

```bash
npm start
```

看到以下输出表示启动成功：
```
VOD服务器运行在 http://localhost:3000
视频列表页: http://localhost:3000
等待视频上传...
```

### 步骤4: 打开浏览器

在浏览器中访问: http://localhost:3000

你应该会看到一个漂亮的视频点播系统界面。

### 步骤5: 上传测试视频

1. 点击"选择视频文件"按钮
2. 选择一个视频文件（建议先用小视频测试，如<100MB）
3. 填写视频标题（可选）
4. 点击"上传视频"

上传完成后，你会看到视频卡片出现在列表中，状态显示为"处理中"。

### 步骤6: 等待处理完成

系统会自动：
- 转码为HLS格式（这可能需要几分钟，取决于视频大小）
- 生成缩略图
- 提取视频信息

当状态变为"就绪"时，视频就可以播放了。

### 步骤7: 播放视频

点击视频卡片，进入播放页面。你可以：
- 观看视频
- 切换播放格式（HLS/原始）
- 查看视频信息
- 查看技术参数

## 常见问题快速解决

### 问题1: FFmpeg未找到

**症状**: 上传后一直显示"处理中"，控制台报错找不到FFmpeg

**解决**:
```bash
# macOS
brew install ffmpeg

# 验证
ffmpeg -version
```

### 问题2: 端口3000被占用

**症状**: 启动时报错"Port 3000 is already in use"

**解决**: 
修改 `server/server.js` 中的 `PORT` 变量为其他端口，如 `3001`。

### 问题3: 上传大文件失败

**症状**: 上传大视频时报错

**解决**: 
这是正常的，multer默认限制为500MB。如需上传更大文件：
1. 修改 `server/routes/upload.js` 中的 `fileSize` 限制
2. 建议先用小视频测试系统是否正常工作

### 问题4: 视频处理很慢

**原因**: FFmpeg转码需要时间，取决于视频大小和你的电脑性能

**建议**:
- 先用小视频（<100MB）测试
- 耐心等待，可以在控制台看到处理进度
- 考虑使用硬件加速（需要修改代码）

## 测试视频推荐

建议使用以下大小的视频进行测试：

1. **第一次测试**: 10-50MB的短视频
2. **功能测试**: 100-200MB的视频
3. **压力测试**: 500MB+的视频

你可以使用项目根目录的 `test.mp4`（如果存在）进行快速测试。

## 下一步

系统运行正常后，你可以：

1. 📖 阅读 `README.md` 了解详细功能
2. 📚 阅读 `点播技术详解.md` 深入学习技术原理
3. 🔧 修改代码，添加自己的功能
4. 🎨 自定义界面样式

## 开发模式

使用nodemon自动重启（修改代码后自动重启服务器）：

```bash
npm run dev
```

## 停止服务器

在终端按 `Ctrl + C` 即可停止服务器。

---

祝你学习愉快！🎉

