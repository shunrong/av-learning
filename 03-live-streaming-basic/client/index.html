<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç›´æ’­ç³»ç»Ÿ - é¦–é¡µ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      width: 100%;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }

    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 1.1em;
      opacity: 0.9;
    }

    .content {
      padding: 40px;
    }

    .section {
      margin-bottom: 40px;
    }

    .section h2 {
      color: #333;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #667eea;
    }

    .card {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 25px;
      margin-bottom: 20px;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .card h3 {
      color: #667eea;
      margin-bottom: 15px;
      font-size: 1.3em;
    }

    .card p {
      color: #666;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .btn {
      display: inline-block;
      padding: 12px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-decoration: none;
      border-radius: 25px;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .code-block {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.9em;
      line-height: 1.5;
      margin: 15px 0;
    }

    .steps {
      counter-reset: step;
    }

    .step {
      position: relative;
      padding-left: 50px;
      margin-bottom: 25px;
    }

    .step::before {
      counter-increment: step;
      content: counter(step);
      position: absolute;
      left: 0;
      top: 0;
      width: 35px;
      height: 35px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .step h4 {
      color: #333;
      margin-bottom: 8px;
    }

    .step p {
      color: #666;
      line-height: 1.6;
    }

    .alert {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }

    .alert strong {
      color: #856404;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ¥ Node.js ç›´æ’­ç³»ç»Ÿ</h1>
      <p>åŸºäº RTMP + HTTP-FLV çš„å®Œæ•´ç›´æ’­æ–¹æ¡ˆ</p>
    </div>

    <div class="content">
      <!-- å¿«é€Ÿå¼€å§‹ -->
      <div class="section">
        <h2>ğŸš€ å¿«é€Ÿå¼€å§‹</h2>
        
        <div class="steps">
          <div class="step">
            <h4>å®‰è£… FFmpegï¼ˆæ¨æµå·¥å…·ï¼‰</h4>
            <div class="code-block">brew install ffmpeg</div>
          </div>

          <div class="step">
            <h4>å‡†å¤‡æµ‹è¯•è§†é¢‘</h4>
            <p>æ‰¾ä¸€ä¸ªä»»æ„ .mp4 è§†é¢‘æ–‡ä»¶ï¼Œæ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå‘½åä¸º test.mp4</p>
          </div>

          <div class="step">
            <h4>æ¨æµåˆ°æœåŠ¡å™¨</h4>
            <div class="code-block">ffmpeg -re -i test.mp4 -c copy -f flv rtmp://localhost:1935/live/stream</div>
            <p style="margin-top: 10px; color: #999; font-size: 0.9em;">
              ğŸ’¡ çœ‹åˆ° "Stream mapping" å’Œä¸æ–­æ»šåŠ¨çš„æ—¥å¿—å°±è¯´æ˜æ¨æµæˆåŠŸäº†ï¼
            </p>
          </div>

          <div class="step">
            <h4>æ‰“å¼€æ’­æ”¾å™¨è§‚çœ‹</h4>
            <a href="/player.html" class="btn">â–¶ï¸  æ‰“å¼€æ’­æ”¾å™¨</a>
          </div>
        </div>
      </div>

      <!-- æ ¸å¿ƒæ¦‚å¿µ -->
      <div class="section">
        <h2>ğŸ“– æ ¸å¿ƒæ¦‚å¿µ</h2>

        <div class="card">
          <h3>æ¨æµåœ°å€</h3>
          <div class="code-block">rtmp://localhost:1935/live/stream
     â†“          â†“    â†“      â†“
  æœåŠ¡å™¨      ç«¯å£  åº”ç”¨å  æµåç§°</div>
          <p><strong>live</strong>: åº”ç”¨åï¼ˆå¯è‡ªå®šä¹‰ï¼‰<br>
             <strong>stream</strong>: æµåç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼Œæ’­æ”¾æ—¶è¦å¯¹åº”ï¼‰</p>
        </div>

        <div class="card">
          <h3>æ’­æ”¾åœ°å€</h3>
          <div class="code-block">HTTP-FLV: http://localhost:8080/live/stream.flv</div>
          <p>æµè§ˆå™¨é€šè¿‡ flv.js åº“è§£æ FLV æ ¼å¼çš„ç›´æ’­æµ</p>
        </div>

        <div class="card">
          <h3>å»¶è¿Ÿè¯´æ˜</h3>
          <p>HTTP-FLV å»¶è¿Ÿé€šå¸¸åœ¨ <strong>3-5 ç§’</strong></p>
          <p>å¯¹æ¯”ä½ ä¹‹å‰å­¦çš„ WebRTCï¼ˆ&lt;500msï¼‰ï¼Œè¿™ä¸ªå»¶è¿Ÿè¾ƒé«˜ï¼Œä½†æ”¯æŒæ›´å¤šè§‚ä¼—</p>
        </div>
      </div>

      <!-- å®éªŒå»ºè®® -->
      <div class="section">
        <h2>ğŸ§ª å®éªŒå»ºè®®</h2>

        <div class="card">
          <h3>1. å¤šè§‚ä¼—æµ‹è¯•</h3>
          <p>åŒæ—¶æ‰“å¼€ 3-5 ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µæ’­æ”¾ï¼Œè§‚å¯ŸæœåŠ¡å™¨æ—¥å¿—ä¸­çš„è§‚ä¼—è¿æ¥</p>
        </div>

        <div class="card">
          <h3>2. ä½“éªŒå»¶è¿Ÿ</h3>
          <p>ç”¨æ‘„åƒå¤´æ¨æµï¼Œå¯¹ç€é•œå¤´æŒ¥æ‰‹ï¼Œè§‚å¯Ÿæ’­æ”¾å™¨ä¸­çš„å»¶è¿Ÿ</p>
          <div class="code-block">ffmpeg -f avfoundation -i "0:0" -c:v libx264 -preset ultrafast -f flv rtmp://localhost:1935/live/webcam</div>
        </div>

        <div class="card">
          <h3>3. å¯¹æ¯” WebRTC</h3>
          <p>å›é¡¾ä½ çš„ 02-webrtc-mesh-conference é¡¹ç›®ï¼Œå¯¹æ¯”ä¸¤è€…çš„å»¶è¿Ÿå’Œé€‚ç”¨åœºæ™¯</p>
        </div>
      </div>

      <!-- å¸¸è§é—®é¢˜ -->
      <div class="section">
        <h2>â“ å¸¸è§é—®é¢˜</h2>

        <div class="alert">
          <strong>Q: æ¨æµåæ’­æ”¾å™¨é»‘å±ï¼Ÿ</strong><br>
          A: ç­‰å¾… 3-5 ç§’ç¼“å†²ï¼Œæ£€æŸ¥æ¨æµåœ°å€å’Œæ’­æ”¾åœ°å€çš„æµåç§°æ˜¯å¦ä¸€è‡´
        </div>

        <div class="alert">
          <strong>Q: FFmpeg å‘½ä»¤ä¸å­˜åœ¨ï¼Ÿ</strong><br>
          A: éœ€è¦å…ˆå®‰è£…ï¼šbrew install ffmpeg
        </div>

        <div class="alert">
          <strong>Q: å¦‚ä½•åœæ­¢æ¨æµï¼Ÿ</strong><br>
          A: åœ¨ FFmpeg è¿è¡Œçš„ç»ˆç«¯æŒ‰ Ctrl+C
        </div>
      </div>

      <!-- ä¸‹ä¸€æ­¥ -->
      <div class="section">
        <h2>ğŸ¯ ä¸‹ä¸€æ­¥å­¦ä¹ </h2>
        <div class="card">
          <p>âœ… è¿è¡ŒæˆåŠŸåï¼Œå¯ä»¥æ·±å…¥ç†è§£ï¼š</p>
          <ul style="margin-left: 20px; margin-top: 10px; line-height: 2;">
            <li>RTMP åè®®å·¥ä½œåŸç†</li>
            <li>FLV æ ¼å¼ç»“æ„</li>
            <li>GOP ä¸å»¶è¿Ÿçš„å…³ç³»</li>
            <li>ç¼–ç å‚æ•°è°ƒä¼˜</li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</body>
</html>
